var speak = [
    {
    "index": 3,
    "detail": "这里是园区热门拍照地之一哟～"
  },
  {
    "index": 5,
    "detail": "这里是园区热门拍照地之一哟～"
  },
  {
    "index": 6,
    "detail": "这里是园区热门拍照地之一哟～"
  },
  {
    "index": 7,
    "detail": "和大熊猫宝宝一起体验成长的过程吧！"
  },
  {
    "index": 8,
    "detail": "野生动物界的三甲医院。"
  },
  {
    "index": 9,
    "detail": "大熊猫最爱的窝窝头是如何制成的？"
  },
  {
    "index": 21,
    "detail": "这里是园区热门拍照地之一哟～"
  },
  {
    "index": 22,
    "detail": "也许会偶遇那些年我们追过的“猫”哟～"
  },
  {
    "index": 23,
    "detail": "也许会偶遇那些年我们追过的“猫”哟～"
  },
  {
    "index": 24,
    "detail": "也许会偶遇那些年我们追过的“猫”哟～"
  },
  {
    "index": 26,
    "detail": "参观时不要打扰甜睡中的大熊猫宝宝哟～"
  },
  {
    "index": 27,
    "detail": "参观时不要打扰甜睡中的大熊猫宝宝哟～"
  },
  {
    "index": 28,
    "detail": "参观时不要打扰甜睡中的大熊猫宝宝哟～"
  },
  {
    "index": 30,
    "detail": "参观时不要打扰甜睡中的大熊猫宝宝哟～"
  },
  {
    "index": 16,
    "detail": "拥有仿生态活动场的大熊猫豪宅。"
  },
  {
    "index": 17,
    "detail": "拥有仿生态活动场的大熊猫豪宅。"
  },
  {
    "index": 18,
    "detail": "拥有仿生态活动场的大熊猫豪宅。"
  },
  {
    "index": 37,
    "detail": "这里是两岁左右幼年大熊猫活动场。"
  },
  {
    "index": 38,
    "detail": "这里是两岁左右幼年大熊猫活动场。"
  },
  {
    "index": 39,
    "detail": "这里是两岁左右幼年大熊猫活动场。"
  },
  {
    "index": 40,
    "detail": "“果赖”～“果赖”～直击大型嗑竹现场！"
  },
  {
    "index": 14,
    "detail": "这里是大熊猫活动栖息的圆形别墅建筑群。"
  },
  {
    "index": 11,
    "detail": "也许会看到大熊猫沐浴时“熊”掌拨清波的场景。"
  },
  {
    "index": 12,
    "detail": "也许会看到大熊猫沐浴时“熊”掌拨清波的场景。"
  },
  {
    "index": 13,
    "detail": "也许会看到大熊猫沐浴时“熊”掌拨清波的场景。"
  },
  {
    "index": 14,
    "detail": "也许会看到大熊猫沐浴时“熊”掌拨清波的场景。"
  },
  {
    "index": 15,
    "detail": "也许会看到大熊猫沐浴时“熊”掌拨清波的场景。"
  },
  {
    "index": 33,
    "detail": "这里是大熊猫宝宝爬树撒欢的游乐场。"
  },
  {
    "index": 34,
    "detail": "这里是大熊猫宝宝爬树撒欢的游乐场。"
  },
  {
    "index": 19,
    "detail": "这里是大熊猫妈妈孕育新生命的地方。"
  },
  {
    "index": 20,
    "detail": "这里是大熊猫妈妈孕育新生命的地方。"
  },
  {
    "index": 25,
    "detail": "这里是大熊猫妈妈孕育新生命的地方。"
  },
  {
    "index": 35,
    "detail": "《我有一个“好妈妈”》时常在这里上演。"
  },
  {
    "index": 29,
    "detail": "这里是成年大熊猫活动栖息的场所。"
  },
  {
    "index": 41,
    "detail": "拍照时请不要打扰其他“两脚兽”呦～"
  },
  {
    "index": 32,
    "detail": "路遇小熊猫散步千万不要亲密接触呦～"
  }

];
var article = [
    {
    "index": 3,
    "title": "大熊猫母子铜像",
    "detail": "成都大熊猫繁育研究基地的标志性建筑。在成都的友好城市美国菲尼克斯也矗立着一座一模一样的雕像。"
  },
  {
    "index": 5,
    "title": "天鹅湖",
    "detail": "成都大熊猫繁育研究基地内的特色人工湖，生活着白天鹅、黑天鹅、鸳鸯和赤麻鸭。天鹅湖在设计和规划上从尊重自然、保护环境角度出发，达到人与自然和谐相处的效果，有成都市最佳观鸟基地的美称。"
  },
  {
    "index": 6,
    "title": "天鹅湖",
    "detail": "成都大熊猫繁育研究基地内的特色人工湖，生活着白天鹅、黑天鹅、鸳鸯和赤麻鸭。天鹅湖在设计和规划上从尊重自然、保护环境角度出发，达到人与自然和谐相处的效果，有成都市最佳观鸟基地的美称。"
  },
  {
    "index": 21,
    "title": "天鹅湖",
    "detail": "成都大熊猫繁育研究基地内的特色人工湖，生活着白天鹅、黑天鹅、鸳鸯和赤麻鸭。天鹅湖在设计和规划上从尊重自然、保护环境角度出发，达到人与自然和谐相处的效果，有成都市最佳观鸟基地的美称。"
  },
  {
    "index": 7,
    "title": "大熊猫科学探秘馆",
    "detail": " 介绍大熊猫繁殖、遗传、营养、内分泌等方面的科学知识，及大熊猫生活中的小秘密和科研人员背后的故事。多媒体互动可体验大熊猫的成长过程。"
  },
  {
    "index": 8,
    "title": "熊猫医院",
    "detail": "为大熊猫、小熊猫等珍稀野生动物提供医疗保健和疾病治疗及野外救护的专门医院。主要开展与大熊猫、小熊猫等珍稀野生动物相关的内科学、外科学、产科学、寄生虫病学和传染病学的诊断、治疗与疾病预防研究。"
  },
  {
    "index": 9,
    "title": "熊猫厨房",
    "detail": "成都大熊猫繁育研究基地内所有大熊猫、小熊猫的食品配送中心。在此处可以观看到大熊猫食品的各种原材料、主食竹、竹笋的样品，还可以观看到大熊猫窝头制作的全部过程"
  },
  {
    "index": 17,
    "title": "二号别墅",
    "detail": "大熊猫活动栖息的场所，拥有仿生态的活动场，大熊猫们可以在花园里嬉戏玩耍。"
  },
  {
    "index": 16,
    "title": "二号别墅",
    "detail": "大熊猫活动栖息的场所，拥有仿生态的活动场，大熊猫们可以在花园里嬉戏玩耍。"
  },
  {
    "index": 26,
    "title": "月亮产房",
    "detail": "大熊猫恋爱、婚配以及育幼的场所，由六个区域组成，面积达3600平方米，是目前世界上最大的熊猫产房。网红大熊猫造星工厂，熊猫基地不可错过的参观地之一。"
  },
  {
    "index": 27,
    "title": "月亮产房",
    "detail": "大熊猫恋爱、婚配以及育幼的场所，由六个区域组成，面积达3600平方米，是目前世界上最大的熊猫产房。网红大熊猫造星工厂，熊猫基地不可错过的参观地之一。"
  },
  {
    "index": 28,
    "title": "月亮产房",
    "detail": "大熊猫恋爱、婚配以及育幼的场所，由六个区域组成，面积达3600平方米，是目前世界上最大的熊猫产房。网红大熊猫造星工厂，熊猫基地不可错过的参观地之一。"
  },
  {
    "index": 30,
    "title": "月亮产房",
    "detail": "大熊猫恋爱、婚配以及育幼的场所，由六个区域组成，面积达3600平方米，是目前世界上最大的熊猫产房。网红大熊猫造星工厂，熊猫基地不可错过的参观地之一。"
  },
  {
    "index": 22,
    "title": "亚成年大熊猫别墅",
    "detail": "这里生活着3-4岁的“亚成年”大熊猫。这个阶段的大熊猫相当于人类青少年时期，心智逐渐成熟，身体变得越来越强壮。"
  },
  {
    "index": 23,
    "title": "亚成年大熊猫别墅",
    "detail": "这里生活着3-4岁的“亚成年”大熊猫。这个阶段的大熊猫相当于人类青少年时期，心智逐渐成熟，身体变得越来越强壮。"
  },
  {
    "index": 24,
    "title": "亚成年大熊猫别墅",
    "detail": "这里生活着3-4岁的“亚成年”大熊猫。这个阶段的大熊猫相当于人类青少年时期，心智逐渐成熟，身体变得越来越强壮。"
  },
  {
    "index": 42,
    "title": "小熊猫活动场",
    "detail": "小熊猫是我国二级保护动物，形似浣熊，属单独的小熊猫科。它们拥有一身棕红色的皮毛和尾部亮眼的九道金色环圈，曾被西方动物学界誉为“人类已知最美丽的动物”。小熊猫活动场为开放式参观区域，偶遇外出散步的小熊猫，请勿靠近触摸，为它让开道路。"
  },
  {
    "index": 43,
    "title": "小熊猫活动场",
    "detail": "小熊猫是我国二级保护动物，形似浣熊，属单独的小熊猫科。它们拥有一身棕红色的皮毛和尾部亮眼的九道金色环圈，曾被西方动物学界誉为“人类已知最美丽的动物”。小熊猫活动场为开放式参观区域，偶遇外出散步的小熊猫，请勿靠近触摸，为它让开道路。"
  }
];

//页面初始化
function format() {
  $(".operation_board_box").css("display", "none");
  // $(".full_close").fadeIn();
  $(".ripple").fadeOut();
  $(".notice").fadeOut();
    $(".panda").fadeOut();
  $(".three3D").addClass("3D");
  $(".full_close").click();
}
format();
$(window).on("load", function () {
  locationFloor();
});
$(window).on("resize", function () {
  locationFloor();
  // 求拖拽距离
  if ($(window).width() >= 1200) {
    
      // obj.mapTypeX= Math.ceil(($(".mapFrame").width() - $(".mapType").width()* mapScale) / 2)
      // obj.mapTypeY= Math.ceil(($(".mapFrame").height() - $(".mapType").height()* mapScale) / 2)
      obj.tX= Math.ceil(($(".mapFrame").width() - $(".mapType").width()) / 2)
      obj.tY= Math.ceil(($(".mapFrame").height() - $(".mapType").height()) / 2)
   
  } else {
    
      // obj.mapTypeX= Math.ceil(($(window).width() * 0.3175 * 0.979 - $(".mapType").width()) / 2)
      // obj.mapTypeY= Math.ceil(($(".mapFrame").height() - $(".mapType").height()) / 2)
      obj.tX= Math.ceil(($(window).width() * 0.3175 * 0.979 - $(".mapType").width()) / 2)
      obj.tY= Math.ceil(($(".mapFrame").height() - $(".mapType").height()) / 2)
      
  }  
  obj.mapTypeX= Math.ceil(($(".mapFrame").width() - $(".mapType").width()* obj.mapScale) / 2)
  obj.mapTypeY= Math.ceil(($(".mapFrame").height() - $(".mapType").height()*obj.mapScale) / 2)
  console.log(123456, obj)
  var arr = $(".mapType").css("transform").replace(/[^0-9\-,]/g, '').split(',')
  var moveX = Number(arr.slice(-2)[0]);
  var moveY = Number(arr.slice(-1)[0]);
  mapBorder(moveX, moveY);
});
if ($(window).width() >= 1200) {
  var obj = {
    mapTypeX: Math.ceil(($(".mapFrame").width() - $(".mapType").width()) / 2),
    mapTypeY: Math.ceil(($(".mapFrame").height() - $(".mapType").height()) / 2),
    mapScale: 1,
    tX: Math.ceil(($(".mapFrame").width() - $(".mapType").width()) / 2),
    tY: Math.ceil(($(".mapFrame").height() - $(".mapType").height()) / 2)
  }
} else {
  var obj = {
    mapTypeX: Math.ceil(($(window).width() * 0.3175 * 0.979 - $(".mapType").width()) / 2),
    mapTypeY: Math.ceil(($(".mapFrame").height() - $(".mapType").height()) / 2),
    mapScale: 1,
    tX: Math.ceil(($(window).width() * 0.3175 * 0.979 - $(".mapType").width()) / 2),
    tY: Math.ceil(($(".mapFrame").height() - $(".mapType").height()) / 2)
  }

  
  console.log("dakuanqw", obj, $(".mapFrame").width(), $(".mapType").width())

}





function locationFloor() {

  var sceneName = krpano.get("xml.scene");
  var sceneIndex = krpano.get("scene[get(xml.scene)].index");
  console.log(sceneIndex , 66666,sceneName);
  var sceneTitle = krpano.get("scene[get(xml.scene)].title");
  $(".indoor").css("display",'none');
  if(sceneName === 'scene_03'){
    $(".indoor").css("display",'block');
  }
  $(".location-map").text(sceneTitle);
  $(".zan_icon").removeClass("click_zan_icon2");
  $(".canvas-class").addClass("canvas-show");
  $(".zanPic").css("display","none");
  //小地图图标位置
  // var topNum = spotSite[sceneIndex][0] + "rem";
  // var leftNum = spotSite[sceneIndex][1] + "rem";
  // $(".map-icons").css({"left": leftNum, "top": topNum});

  // $(".blur_btn").click()


  //tour.html文字内容
  $(".close").remove();
  var closeImg = `
    <img class="close" src="../img/introduce/close.png" alt="">
    `
  $(".introduce").removeClass("said");
  $(".panda_say").removeClass("said");
  $(".speak").css("display", "none");

  for (var i = 0; i < speak.length; i++) {
    if (sceneIndex === speak[i].index) {
      $(".speak>.panda_say").addClass("said");
      $(".panda_say").text(speak[i].detail);
    }
  }
  $(".speak>.introduce").css("display", "none");
  for (var i = 0; i < article.length; i++) {
    if (sceneIndex === article[i].index) {
      $(".speak>.introduce").addClass("said");
      $(".introduce span").text("[" + article[i].title + "]");
      $(".introduce p").text(article[i].detail);
    }
  }
  if ($(".introduce").hasClass("said")) {
    $(".panda .haveSay").css("display", "block");
    $(".introduce").css("display", "block");
    $(".introduce").append(closeImg);
    // $(".close").remove(".panda_say");
    $(".speak").css("display", "block");
    // $(".panda .haveSay").css("display", "none");
    console.log(1111,"656613")
  } 
  if ((!$(".introduce").hasClass("said")) && $(".panda_say").hasClass("said")) {
    $(".panda .haveSay").css("display", "block");
    $(".panda_say").append(closeImg);
    $(".speak").css("display", "block");
    // $(".panda .haveSay").css("display", "none");
    console.log(22222)
  }
  //  else {
    // $(".speak").css("display", "block");
    $(".panda .haveSay").css("display", "none");
  // }
  pandaSpeak();
  // if($(".panda_say").text() !== "" && $(".introduce").text() !== ""){}
  // $(".haveSay").click();
}
// 对话显示隐藏
function pandaSpeak() {

  $(".haveSay").click(function () {
    $(".speak").stop(true, false).slideDown("slow");
    $(this).stop(true, false).slideUp("slow");

  })
  $(".close").on("click", function () {
    $(".speak").slideUp("slow");
    $(".haveSay").stop(true, false).slideDown("slow");

  })
  // $(".haveSay").click(function () {
  //   $(".talk").stop(true, false).slideDown("slow");
  //   $(this).stop(true, false).slideUp("slow");
  //
  // })
  // $(".close").on("click", function () {
  //   $(".talk").stop(true, false).slideUp("slow");
  //   $(".haveSay").stop(true, false).slideDown("slow");
  // $(".haveSay").click()
  // })
}

// 地图
// function three3Dhover() {
//   $(".three3D").hover(function () {
//     if ($(".three3D").hasClass("3D")) {
//       $(".three3D").addClass("th_to_two");
//     } else {
//       $(".three3D").addClass("two_to_th");
//     }
//
//   }, function () {
//     $(".three3D").removeClass("th_to_two").removeClass("two_to_th");
//   });
// }
// three3Dhover()


$(".three3D").on("click", function () {
  // $(".change").toggleClass("change1")
  // if ($(".three3D").hasClass("3D")) {
  //   $(".mapType").attr("src", "../img/map/map2D.png");
  //   $(".three3D").removeClass("3D");
  //   three3Dhover();
  // } else {
  //   $(".mapType").attr("src", "../img/map/map.jpg");
    $(".three3D").addClass("3D");
    
  //   three3Dhover();
  // }
  // $(".full").click();
  $(".full_close").fadeIn();
  $(".main_left").fadeOut();
    $(".notice").fadeOut();
    $(".panda").fadeOut();
    $(".operation_board_box").fadeOut();
    $(".ripple").fadeOut();
    // var sceneNameBK = krpano.get("xml.scene");
    //  return sceneNameBK;
    // console.log("sceneIndex" , 66666,sceneNameBK);
    loadpano("tour_map3D.xml", "scene_c01");
  
});

//地图缩放
$(".big").hover(function () {

  $(".scaling").addClass("bigClick");
}, function () {
  $(".scaling").removeClass("bigClick");
});
$(".small").hover(function () {
  $(".scaling").addClass("smallClick");
}, function () {
  $(".scaling").removeClass("smallClick");
});

// 放大
$(".big").on("click", function () {
  var arr = $(".mapType").css("transform").replace(/[^0-9\-,]/g, '').split(',')
  var moveX = Number(arr.slice(-2)[0]);
  var moveY = Number(arr.slice(-1)[0]);
  var mapScale = Number(arr.slice(-3)[0]);
    if (mapScale >= 3) {
      mapScale = 3;

  } else {
    mapScale = ++mapScale;
  }
  obj.mapScale = mapScale;
  $(".mapType").css("transform", "matrix(" + mapScale + ",0,0," + mapScale + "," + moveX + "," + moveY + ")");
  obj.mapTypeX = Math.ceil(($(".mapFrame").width() - $(".mapType").width() * mapScale) / 2)
  obj.mapTypeY = Math.ceil(($(".mapFrame").height() - $(".mapType").height() * mapScale) / 2)
  console.log(obj.mapTypeX)
  mapBorder(moveX, moveY);
  console.log("dakuan", obj.mapTypeX, obj.mapTypeY)
  return obj
})
// 缩小
$(".small").on("click", function () {
  var arr = $(".mapType").css("transform").replace(/[^0-9\-,]/g, '').split(',')
  var moveX = Number(arr.slice(-2)[0]);
  var moveY = Number(arr.slice(-1)[0]);
  var mapScale = Number(arr.slice(-3)[0]);
  console.log($(".mapType").css("transform"), "5656565656", arr, mapScale)
  if (mapScale <= 1) {
    mapScale = 1;

  } else {
    mapScale = --mapScale;
  }
  obj.mapScale = mapScale;
  console.log($(".mapType").css("transform"), "7777777", arr, mapScale)
  // if (mapScale == 1) {
  //   moveX = -83;
  //   moveY = 0;
  // }
  $(".mapType").css("transform", "matrix(" + mapScale + ",0,0," + mapScale + "," + moveX + "," + moveY + ")");

  obj.mapTypeX = Math.ceil(($(".mapFrame").width() - $(".mapType").width() * mapScale) / 2)
  obj.mapTypeY = Math.ceil(($(".mapFrame").height() - $(".mapType").height() * mapScale) / 2)

  console.log(obj.mapTypeX,$(".mapFrame").width(),98989898)
  mapBorder(moveX, moveY);
  // console.log(obj.mapTypeX,obj.mapTypeY,moveX,moveY,"00000",$(".mapType").width(),$(".mapType").height());
  return obj
});

function mapBorder(moveX, moveY) {
  var mapTypeX = obj.mapTypeX;
  var mapTypeY = obj.mapTypeY;
  var mapScale = obj.mapScale;
  var tX = obj.tX;
  var tY = obj.tY;
  if (mapScale == 1) {
    if (moveX > 0) {
      moveX = 0;
    } else if (moveX < 2 * mapTypeX) {
      moveX = 2 * mapTypeX;
    }
  } else {
    if (moveX > (-mapTypeX + tX)) {
      moveX = -mapTypeX + tX;
    } else if (moveX < mapTypeX) {
      moveX = mapTypeX + tX;
    }
  }
  if (mapScale == 1) {
    if (moveY > 0) {
      moveY = 0;
    } else if (moveY < 2 * mapTypeY) {
      moveY = 2 * mapTypeY;
    }
  } else {
    if (moveY > (-mapTypeY + tY)) {
      moveY = -mapTypeY + tY;
    } else if (moveY < mapTypeY) {
      moveY = mapTypeY + tY;
    }
  }
  // if (moveY > -mapTypeY) {
  //   moveY = -mapTypeY;
  // } else if (moveY < mapTypeY) {
  //   moveY = mapTypeY;
  // }
  console.log("11111111", moveX, moveY, mapTypeX, mapTypeY, $(".mapType").css('transform'))
  $(".mapType").css("transform", "matrix(" + mapScale + ",0,0," + mapScale + "," + Math.ceil(moveX) + "," + Math.ceil(moveY) + ")");
}
// 地图拖拽
$(".main_left").on("click", function (e) {
  var $target = $(e.target);
  if ($target.is(".mapType>ul")) {

    $target.on("mousedown", function (e) {
      // console.log(e.pageX, e.pageY)
      var spotX = e.pageX;
      var spotY = e.pageY;
      var arr = $(".mapType").css('transform').replace(/[^0-9\-,]/g, '').split(',')
      var tX = Number(arr.slice(-2)[0]);
      var tY = Number(arr.slice(-1)[0]);
      var mapScale = Number(arr.slice(-3)[0]);

      $target.on("mousemove", function (e) {
        var moveX = (e.pageX - spotX + tX);
        var moveY = (e.pageY - spotY + tY);

        console.log("2222222222", moveX, moveY)
        mapBorder(moveX, moveY, mapScale);
      });
    });
    $target.on("mouseup", function () {
      $target.unbind("mousemove")
    })
    $target.on("mouseout", function () {
      // console.log(12121212)

      $(".main_left").unbind("click")
      $target.unbind("mousemove")
    })
  }
});
// 地图全屏
$(".full").click(function () {
  $(".full_close").fadeIn();
  // if (!$(".three3D").hasClass("3D")) {

    $(".full_map").fadeIn();
  // } else {
  //   $(".main_left").fadeOut();
  //   $(".main_right").fadeOut();
  //   $(".operation_board_box").fadeOut();
  //   $(".ripple").fadeOut();
  //   // var sceneNameBK = krpano.get("xml.scene");
  //   // FullC(sceneNameBK);
  //   // console.log("sceneIndex" , 66666,sceneNameBK);
  //   loadpano("tour_map3D.xml", "scene_c01");
  // }

});
// 退出地图全屏
function fullClose(that, _ath) {
  
   // var that =  that;
   $(".full_close").fadeOut();
   // if( !(that instanceof jQuery)){
  //  if (!$(".three3D").hasClass("3D")) {
     $(".full_map").fadeOut();
  //  } else {
     $(".main_left").fadeIn();
     $(".notice").fadeIn();
    $(".panda").fadeIn();
     $(".operation_board_box").fadeIn();
     $(".ripple").fadeIn();
     
     console.log(that, _ath ,77777777)
     // loadpano("tour.xml", sceneNameBK)
     loadpano("tour.xml",that)
     setTimeout(() => {
      landmarkNav(that, _ath);
     }, 100);
     $(".three3D").removeClass("3D");
  //  }
}

$(".full_close").on("click", FullC);
function FullC() {
  $(".full_close").fadeOut();
  if (!$(".three3D").hasClass("3D")) {
    $(".full_map").fadeOut();
  } else {
    $(".main_left").fadeIn();
    $(".notice").fadeIn();
    $(".panda").fadeIn();
    $(".operation_board_box").fadeIn();
    $(".ripple").fadeIn();
    
    loadpano("tour.xml","scene_01")
    
    $(".three3D").removeClass("3D");
  }
}
// 地标导航
function landmarkNav(that, _ath) {
  console.log(23232323,that, _ath)
   if(that instanceof jQuery){
     $(".full_close").click()
       var sceneName = that.attr("data-scene");
       var newAth = that.attr("data-ath");
   }else {
     var sceneName = that;
      var newAth = _ath;
   }
  // if (!$(".three3D").hasClass("3D")) {
  //   $(".full_close").click()
  //   var sceneName = that.attr("data-scene");
  //   var newAth = that.attr("data-ath");
  //   console.log(sceneName, newAth)
  // } else {
  //   var sceneName = that;
  //   var newAth = _ath;
  //   console.log(that, newAth)
  // }
  krpano.call("loadscene(" + sceneName + ",null, MERGE, OPENBLEND(1.0, -0.5, 0.3, 0.8, linear));");

  if (newAth && newAth !== "") {

    krpano.set("view.hlookat", newAth);
  }

}
$(".map_cover>li").click(function () {
  landmarkNav($(this))
})
//博物馆弹出层
$(".goIndoorClose").on("click",function(){
  $(".indoor").css("display","none")
})
$(".indoor_list li:nth-child(1)").on("click",function(){
  location.href="../vtour/tour_inside.html"
  setTimeout(function(){
    console.log("012345+6789")
    // krpano.call("loadscene(scene_8,null, MERGE, OPENBLEND(1.0, -0.5, 0.3, 0.8, linear));");
  },300)
  
  // landmarkNav('scene_08')
})
$(".indoor_list li:nth-child(2)").on("click",function(){
  location.href="../vtour/tour_inside.html"
})